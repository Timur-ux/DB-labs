@startuml BuildCompany

!function $autogenerated($a)
!return "<color:RoyalBlue>" + $a + " <<autogenerated PK>></color>"
!endfunction

!function $unique($a)
!return "<color:Crimson>" + $a + " <<unique>></color>"
!endfunction

!function $setBold($a)
!return "<b>" + $a + " </b>"
!endfunction

skinparam LegendBackgroundColor MistyRose
skinparam LegendBorderColor PaleVioletRed
skinparam LegendFontColor PaleVioletRed

skinparam Class {
    HeaderBackgroundColor PaleGreen
}

'skinparam linetype ortho
skinparam TitleFontColor Sienna

Title ER-диаграмма "Строительная компания"

entity "$setBold("Project")" as project {
    * $autogenerated("id : uuid")
    ..
    * description : string(1000)
    * client : string(100)
    * deadline : timestamp
}

entity "$setBold("Task")" as task {
  * $autogenerated("id : uuid")
  ..
  * project_id : uuid <<project.id FK>>
  * description : string(1000)
  * deadline : timestamp
}

entity "$setBold("Employee")" as employee {
    * $autogenerated("id : uuid")
    ..
    * name : string(100)
    surname : string(100)
    * $unique("passport") : string(30) 
    * email : string(100)
    * post_id : uuid <<post.id FK>>
}

entity "$setBold("Post")" as post {
  * $autogenerated("id : uuid")
  ..
  description : string(1000)
  * salary : uint
}

entity "$setBold("Task/employee")" as employeeInTask {
  * task_id : uuid <<task.id FK>>
  * employee_id : uuid <<employee.id FK>>
}

employee::post_id }-- post::id
task::project_id }-- project::id
employeeInTask::task_id }-- task::id
employeeInTask::employee_id }-- employee::id

legend right
$setBold("Условные обозначения:")
* - обязательное поле
PK - первичный ключ
FK - внешний ключ
end legend

footer Buchkin Timur, 2024

@enduml
